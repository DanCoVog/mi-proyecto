<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investigaci√≥n: Caf√© y Memoria | UNIMINUTO</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%236B4423'/%3E%3Ctext x='50' y='70' font-size='60' text-anchor='middle' fill='white' font-family='Arial, sans-serif'%3E‚òï%3C/text%3E%3C/svg%3E">
    
    <!-- Meta tags -->
    <meta name="description" content="Estudio sobre el efecto del caf√© en la memoria a corto plazo - UNIMINUTO Villavicencio">
    <meta name="author" content="Sara Rey Moreno, Daniel Felipe Romero Soler">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loader">
            <div class="coffee-cup">‚òï</div>
            <p>Cargando investigaci√≥n...</p>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">‚òï</div>
                    <div class="header-text">
                        <h1>Caf√© y Memoria</h1>
                        <p class="subtitle">Investigaci√≥n Cient√≠fica</p>
                    </div>
                </div>
                <div class="university-badge">
                    <span class="badge-text">UNIMINUTO</span>
                    <span class="badge-location">Villavicencio</span>
                </div>
            </div>
            <div class="header-description">
                <p>An√°lisis del efecto del consumo de caf√© en la memoria a corto plazo de estudiantes universitarios</p>
            </div>
        </header>

        <main>
            <!-- Secci√≥n de registro -->
            <section class="card fade-in">
                <div class="card-header">
                    <h2>üìù Registrar Participante</h2>
                    <p class="card-subtitle">Complete los datos del nuevo participante</p>
                </div>
                <form id="formParticipante" class="modern-form">
                    <div class="form-group">
                        <label for="nombre">Nombre completo:</label>
                        <input type="text" id="nombre" required>
                    </div>

                    <div class="form-group">
                        <label for="edad">Edad:</label>
                        <input type="number" id="edad" min="18" max="100" required>
                    </div>

                    <div class="form-group">
                        <label for="grupo">Grupo:</label>
                        <select id="grupo" required>
                            <option value="">Seleccione...</option>
                            <option value="cafe">Con consumo de caf√©</option>
                            <option value="sin_cafe">Sin consumo de caf√©</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="puntaje">Puntaje de memoria (0-10):</label>
                        <input type="number" id="puntaje" min="0" max="10" step="0.1" required>
                        <small>Cantidad de palabras recordadas de 10 mostradas</small>
                    </div>

                    <button type="submit" class="btn-primary">Guardar Participante</button>
                </form>
            </section>

            <!-- Secci√≥n de participantes registrados -->
            <section class="card fade-in">
                <div class="card-header">
                    <h2>üë• Participantes Registrados</h2>
                    <p class="card-subtitle">Visualizaci√≥n organizada por grupos de estudio</p>
                </div>

                <!-- Tabs para cambiar entre vistas -->
                <div class="tabs">
                    <button class="tab-btn active" onclick="cambiarTab('todos')">
                        <span>üìä</span>
                        <span class="tab-text">Todos los Participantes</span>
                    </button>
                    <button class="tab-btn" onclick="cambiarTab('cafe')">
                        <span>‚òï</span>
                        <span class="tab-text">Con Caf√©</span>
                    </button>
                    <button class="tab-btn" onclick="cambiarTab('sinCafe')">
                        <span>üö´</span>
                        <span class="tab-text">Sin Caf√©</span>
                    </button>
                </div>

                <!-- Tabla de TODOS -->
                <div id="tablaTodos" class="table-section active">
                    <div class="table-info">
                        <h3>üìã Lista Completa de Participantes</h3>
                        <span class="count-badge" id="countTodos">Total: 0</span>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Nombre</th>
                                    <th>Edad</th>
                                    <th>Grupo</th>
                                    <th>Puntaje</th>
                                    <th>Fecha</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="tbodyTodos">
                                <tr>
                                    <td colspan="7" class="text-center">No hay participantes registrados</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tabla CON CAF√â -->
                <div id="tablaCafe" class="table-section">
                    <div class="table-info">
                        <h3>‚òï Participantes que Consumieron Caf√©</h3>
                        <span class="count-badge cafe-badge" id="countCafe">Total: 0</span>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Nombre</th>
                                    <th>Edad</th>
                                    <th>Puntaje</th>
                                    <th>Fecha</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="tbodyCafe">
                                <tr>
                                    <td colspan="6" class="text-center">No hay participantes en este grupo</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tabla SIN CAF√â -->
                <div id="tablaSinCafe" class="table-section">
                    <div class="table-info">
                        <h3>üö´ Participantes sin Consumo de Caf√©</h3>
                        <span class="count-badge sincafe-badge" id="countSinCafe">Total: 0</span>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Nombre</th>
                                    <th>Edad</th>
                                    <th>Puntaje</th>
                                    <th>Fecha</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="tbodySinCafe">
                                <tr>
                                    <td colspan="6" class="text-center">No hay participantes en este grupo</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de estad√≠sticas -->
            <section class="card fade-in">
                <div class="card-header">
                    <h2>üìä An√°lisis Estad√≠stico</h2>
                    <p class="card-subtitle">Medidas de tendencia central y dispersi√≥n</p>
                </div>
                <button onclick="cargarEstadisticas()" class="btn-secondary">
                    <span>üîÑ</span> Actualizar Estad√≠sticas
                </button>
                
                <div class="stats-grid">
                    <div class="stat-card cafe">
                        <h3>Grupo CON Caf√©</h3>
                        <div id="estadisticasCafe">
                            <p>No hay datos disponibles</p>
                        </div>
                    </div>

                    <div class="stat-card sin-cafe">
                        <h3>Grupo SIN Caf√©</h3>
                        <div id="estadisticasSinCafe">
                            <p>No hay datos disponibles</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de gr√°ficos -->
            <section class="card fade-in">
                <div class="card-header">
                    <h2>üìà Visualizaci√≥n de Resultados</h2>
                    <p class="card-subtitle">Representaci√≥n gr√°fica del an√°lisis comparativo</p>
                </div>
                
                <div class="chart-container">
                    <canvas id="chartComparacion"></canvas>
                </div>

                <div class="charts-row">
                    <div class="chart-half">
                        <canvas id="chartDistribucion"></canvas>
                    </div>
                    <div class="chart-half">
                        <canvas id="chartPastel"></canvas>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <div class="footer-content">
                <div class="authors">
                    <p><strong>Autores:</strong></p>
                    <p>Sara Rey Moreno ‚Ä¢ Daniel Felipe Romero Soler</p>
                </div>
                <div class="institution">
                    <p>Corporaci√≥n Universitaria Minuto de Dios</p>
                    <p>Tecnolog√≠a en Desarrollo de Software</p>
                    <p>Noviembre 2025</p>
                </div>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
    <script>
        // Ocultar pantalla de carga
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                    }, 500);
                }
            }, 1000);
        });

        // Debug: Verificar que todos los elementos existen
        document.addEventListener('DOMContentLoaded', () => {
            console.log('‚úÖ Verificando elementos...');
            console.log('tbodyTodos:', document.getElementById('tbodyTodos'));
            console.log('tbodyCafe:', document.getElementById('tbodyCafe'));
            console.log('tbodySinCafe:', document.getElementById('tbodySinCafe'));
            console.log('countTodos:', document.getElementById('countTodos'));
            console.log('countCafe:', document.getElementById('countCafe'));
            console.log('countSinCafe:', document.getElementById('countSinCafe'));
        });
    </script>
</body>
</html>